<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RouteSpy — Paolo Mascia</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="article.css">
</head>
<body>

    <nav class="navbar scrolled">
        <div class="container">
            <a href="index.html" class="nav-logo">
                <span class="logo-accent">&gt;</span> paolo.mascia
            </a>
            <div class="nav-links">
                <a href="index.html#about">About</a>
                <a href="index.html#projects">Projects</a>
                <a href="ai-tech-insights.html">AI Tech Insights</a>
                <a href="cybersecurity-tech-insights.html">Cybersecurity</a>
                <a href="golang-tech-insights.html">Go</a>
                <a href="index.html#contact">Contact</a>
            </div>
        </div>
    </nav>

    <article class="article">
        <div class="container">
            <header class="article-header">
                <a href="index.html#projects" class="back-link">&larr; Back to Projects</a>
                <div class="project-tag" style="margin-bottom: 12px;">Network Security</div>
                <h1>RouteSpy</h1>
                <div class="project-tech" style="margin-top: 16px;">
                    <span>Python</span>
                    <span>Scapy</span>
                    <span>Eel</span>
                    <span>JavaScript</span>
                </div>
                <div style="margin-top: 20px;">
                    <a href="https://github.com/paolomascia/routespy" target="_blank" rel="noopener noreferrer" class="btn btn-outline" style="display: inline-flex; align-items: center; gap: 8px;">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M12 0C5.374 0 0 5.373 0 12c0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23A11.509 11.509 0 0112 5.803c1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576C20.566 21.797 24 17.3 24 12c0-6.627-5.373-12-12-12z"/></svg>
                        View on GitHub
                    </a>
                </div>
            </header>

            <div class="article-body">
                <p class="lead">RouteSpy is an open-source tool for real-time network traffic monitoring. It captures outgoing network packets from your PC and displays the geographical destination of these packets on a live interactive map, providing immediate and intuitive analysis of potential risks associated with suspicious communications — such as those generated by malware or unknown software.</p>

                <img src="images/routespy.png" alt="RouteSpy — Live map showing outgoing network traffic destinations" style="width:100%; border-radius:8px; margin:24px 0;">

                <h2>Key Features</h2>
                <ul>
                    <li><strong>Real-time Packet Sniffing</strong> — Leverages Scapy to intercept outgoing TCP and UDP packets as they leave the system</li>
                    <li><strong>IP Geolocation</strong> — Integrates external APIs to obtain geographical coordinates (latitude/longitude) for each destination IP address</li>
                    <li><strong>Live Map Visualization</strong> — Uses Eel to dynamically refresh a web-based UI (HTML/JavaScript) displaying captured traffic flows on a global map</li>
                    <li><strong>Pause/Resume</strong> — Users can suspend and restart packet capture at any time without losing context</li>
                    <li><strong>Persistent Configuration</strong> — Stores and retrieves settings (API URL, API Key) via <code>config.json</code></li>
                    <li><strong>Threaded Capture</strong> — Sniffing operates in a dedicated thread, keeping the graphical interface responsive at all times</li>
                </ul>

                <h2>How It Works</h2>
                <ol>
                    <li><strong>Capture Initiation</strong> — The <code>start_packet_capture()</code> function spawns a dedicated thread that executes the sniffing loop using Scapy's packet capture engine.</li>
                    <li><strong>Packet Processing</strong> — For each intercepted TCP packet, the destination IP is registered and queried against a geolocation API to retrieve coordinates. UDP packets follow the same procedure with additional traceroute integration provisions.</li>
                    <li><strong>Map Update</strong> — Coordinates are transmitted to the web UI via <code>eel.updateData(coord, protocol)</code>, dynamically plotting each connection on the map while visually distinguishing TCP from UDP traffic.</li>
                    <li><strong>User Control</strong> — Functions like <code>pause_packet_capture()</code> and <code>save_config()</code> allow the user to manage capture state and settings on the fly.</li>
                </ol>

                <h2>Technology Stack</h2>
                <h3>Backend</h3>
                <ul>
                    <li><strong>Python</strong> — Primary language for packet capture and processing logic</li>
                    <li><strong>Scapy</strong> — Packet sniffing and protocol analysis</li>
                    <li><strong>Eel</strong> — Python-to-HTML/JS bridge for the live UI</li>
                    <li><strong>threading</strong> — Concurrent execution to keep the UI responsive</li>
                    <li><strong>json</strong> — Configuration management via <code>config.json</code></li>
                </ul>

                <h3>Frontend</h3>
                <ul>
                    <li><strong>HTML / JavaScript</strong> — Dynamic interface rendering and map interaction</li>
                    <li><strong>Mapping library</strong> — Geographic visualization of traffic destinations</li>
                    <li><strong>External geolocation APIs</strong> — IP-to-coordinates resolution</li>
                </ul>

                <h2>Use Cases</h2>
                <ul>
                    <li><strong>Security Monitoring</strong> — Detect suspicious outbound connections to unusual or foreign IP addresses in real time</li>
                    <li><strong>Malware Detection</strong> — Visualize potential Command &amp; Control (C2) servers contacted by malicious processes running on the system</li>
                    <li><strong>Educational Analysis</strong> — Cybersecurity and networking students can visualize how packets traverse the network and reach their destinations</li>
                    <li><strong>Network Awareness</strong> — Understand which services and applications are generating external traffic from your machine</li>
                </ul>

                <h2>Requirements &amp; Notes</h2>
                <ul>
                    <li>Python 3.x with Scapy and Eel installed</li>
                    <li>A valid API key for IP geolocation services</li>
                    <li>Requires <strong>elevated system privileges</strong> (administrator/root) for raw packet capture</li>
                </ul>

                <h2>Roadmap</h2>
                <ul>
                    <li><strong>Multiple Geolocation Providers</strong> — Support for MaxMind, ip-api, and others with automatic fallback mechanisms</li>
                    <li><strong>Enhanced UI Interactivity</strong> — Click on map points to view detailed packet information and identify the originating process</li>
                    <li><strong>Protocol Expansion</strong> — Extend support beyond TCP/UDP to ICMP and additional protocols</li>
                    <li><strong>Performance Optimization</strong> — Implement asynchronous queuing and buffering for high-traffic scenarios</li>
                    <li><strong>Security Sandboxing</strong> — Address privilege elevation risks through sandboxed execution</li>
                    <li><strong>Standalone Distribution</strong> — Create standalone executables via PyInstaller for users without a Python environment</li>
                </ul>

                <p>The project is open-source and available on <a href="https://github.com/paolomascia/routespy" target="_blank" rel="noopener noreferrer">GitHub</a>.</p>
            </div>
        </div>
    </article>

    <footer class="footer">
        <div class="container">
            <p>&copy; 2025 Paolo Mascia. Built with curiosity and too much coffee.</p>
        </div>
    </footer>

</body>
</html>
